<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
  <style>
  @font-face {
  font-family: octicons-link;
  src: url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM+8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB/aFGpk3jaTY6xa8JAGMW/O62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v+k/0an2i+itHDw3v2+9+DBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3/I7AtxEJLtzzuZfI+VVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy/Lt7Kc+0vWY/gAgIIEqAN9we0pwKXreiMasxvabDQMM4riO+qxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw+ymhce7vwM9jSqO8JyVd5RH9gyTt2+J/yUmYlIR0s04n6+7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv/ocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi+W2+MjCzMIDApSwvXzC97Z4Ig8N/BxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh/8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT+AEjAwuDFpBmA9KMDEwMCh9i/v8H8sH0/4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9/lqYwOGZxeUelN2U2R6+cArgtCJpauW7UQBqnFkUsjAY/kOU1cP+DAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl+vvmM/byA48e6tWrKArm4ZJlCbdsrxksL1AwWn/yBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO//sdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd/89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF+9JOS0nbaaYDCQfwCJ7Au3AHj+LO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm+EBXuAbHmIMSRMs+4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL+hD7C1xoaHeLJSEao0FEW14ckxC+TU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13/+lm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl+9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O/AdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB///AA8AAQAAAAAAAAAAAAAAAAABAAAAAA==) format('woff');
}

.markdown-body .octicon {
  display: inline-block;
  fill: currentColor;
  vertical-align: text-bottom;
}

.markdown-body .anchor {
  float: left;
  line-height: 1;
  margin-left: -20px;
  padding-right: 4px;
}

.markdown-body .anchor:focus {
  outline: none;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
  color: #1b1f23;
  vertical-align: middle;
  visibility: hidden;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
  text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
  visibility: visible;
}

.markdown-body {
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #24292e;
  line-height: 1.5;
  font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;
  font-size: 16px;
  line-height: 1.5;
  word-wrap: break-word;
}

.markdown-body .pl-c {
  color: #6a737d;
}

.markdown-body .pl-c1,
.markdown-body .pl-s .pl-v {
  color: #005cc5;
}

.markdown-body .pl-e,
.markdown-body .pl-en {
  color: #6f42c1;
}

.markdown-body .pl-s .pl-s1,
.markdown-body .pl-smi {
  color: #24292e;
}

.markdown-body .pl-ent {
  color: #22863a;
}

.markdown-body .pl-k {
  color: #d73a49;
}

.markdown-body .pl-pds,
.markdown-body .pl-s,
.markdown-body .pl-s .pl-pse .pl-s1,
.markdown-body .pl-sr,
.markdown-body .pl-sr .pl-cce,
.markdown-body .pl-sr .pl-sra,
.markdown-body .pl-sr .pl-sre {
  color: #032f62;
}

.markdown-body .pl-smw,
.markdown-body .pl-v {
  color: #e36209;
}

.markdown-body .pl-bu {
  color: #b31d28;
}

.markdown-body .pl-ii {
  background-color: #b31d28;
  color: #fafbfc;
}

.markdown-body .pl-c2 {
  background-color: #d73a49;
  color: #fafbfc;
}

.markdown-body .pl-c2:before {
  content: "^M";
}

.markdown-body .pl-sr .pl-cce {
  color: #22863a;
  font-weight: 700;
}

.markdown-body .pl-ml {
  color: #735c0f;
}

.markdown-body .pl-mh,
.markdown-body .pl-mh .pl-en,
.markdown-body .pl-ms {
  color: #005cc5;
  font-weight: 700;
}

.markdown-body .pl-mi {
  color: #24292e;
  font-style: italic;
}

.markdown-body .pl-mb {
  color: #24292e;
  font-weight: 700;
}

.markdown-body .pl-md {
  background-color: #ffeef0;
  color: #b31d28;
}

.markdown-body .pl-mi1 {
  background-color: #f0fff4;
  color: #22863a;
}

.markdown-body .pl-mc {
  background-color: #ffebda;
  color: #e36209;
}

.markdown-body .pl-mi2 {
  background-color: #005cc5;
  color: #f6f8fa;
}

.markdown-body .pl-mdr {
  color: #6f42c1;
  font-weight: 700;
}

.markdown-body .pl-ba {
  color: #586069;
}

.markdown-body .pl-sg {
  color: #959da5;
}

.markdown-body .pl-corl {
  color: #032f62;
  text-decoration: underline;
}

.markdown-body details {
  display: block;
}

.markdown-body summary {
  display: list-item;
}

.markdown-body a {
  background-color: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline-width: 0;
}

.markdown-body strong {
  font-weight: inherit;
  font-weight: bolder;
}

.markdown-body h1 {
  font-size: 2em;
  margin: .67em 0;
}

.markdown-body img {
  border-style: none;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre {
  font-family: monospace,monospace;
  font-size: 1em;
}

.markdown-body hr {
  box-sizing: content-box;
  height: 0;
  overflow: visible;
}

.markdown-body input {
  font: inherit;
  margin: 0;
}

.markdown-body input {
  overflow: visible;
}

.markdown-body [type=checkbox] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body * {
  box-sizing: border-box;
}

.markdown-body input {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
}

.markdown-body a {
  color: #0366d6;
  text-decoration: none;
}

.markdown-body a:hover {
  text-decoration: underline;
}

.markdown-body strong {
  font-weight: 600;
}

.markdown-body hr {
  background: transparent;
  border: 0;
  border-bottom: 1px solid #dfe2e5;
  height: 0;
  margin: 15px 0;
  overflow: hidden;
}

.markdown-body hr:before {
  content: "";
  display: table;
}

.markdown-body hr:after {
  clear: both;
  content: "";
  display: table;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body details summary {
  cursor: pointer;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-bottom: 0;
  margin-top: 0;
}

.markdown-body h1 {
  font-size: 32px;
}

.markdown-body h1,
.markdown-body h2 {
  font-weight: 600;
}

.markdown-body h2 {
  font-size: 24px;
}

.markdown-body h3 {
  font-size: 20px;
}

.markdown-body h3,
.markdown-body h4 {
  font-weight: 600;
}

.markdown-body h4 {
  font-size: 16px;
}

.markdown-body h5 {
  font-size: 14px;
}

.markdown-body h5,
.markdown-body h6 {
  font-weight: 600;
}

.markdown-body h6 {
  font-size: 12px;
}

.markdown-body p {
  margin-bottom: 10px;
  margin-top: 0;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ol,
.markdown-body ul {
  margin-bottom: 0;
  margin-top: 0;
  padding-left: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ol ol ol,
.markdown-body ol ul ol,
.markdown-body ul ol ol,
.markdown-body ul ul ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre {
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-bottom: 0;
  margin-top: 0;
}

.markdown-body input::-webkit-inner-spin-button,
.markdown-body input::-webkit-outer-spin-button {
  -webkit-appearance: none;
  appearance: none;
  margin: 0;
}

.markdown-body .border {
  border: 1px solid #e1e4e8!important;
}

.markdown-body .border-0 {
  border: 0!important;
}

.markdown-body .border-bottom {
  border-bottom: 1px solid #e1e4e8!important;
}

.markdown-body .rounded-1 {
  border-radius: 3px!important;
}

.markdown-body .bg-white {
  background-color: #fff!important;
}

.markdown-body .bg-gray-light {
  background-color: #fafbfc!important;
}

.markdown-body .text-gray-light {
  color: #6a737d!important;
}

.markdown-body .mb-0 {
  margin-bottom: 0!important;
}

.markdown-body .my-2 {
  margin-bottom: 8px!important;
  margin-top: 8px!important;
}

.markdown-body .pl-0 {
  padding-left: 0!important;
}

.markdown-body .py-0 {
  padding-bottom: 0!important;
  padding-top: 0!important;
}

.markdown-body .pl-1 {
  padding-left: 4px!important;
}

.markdown-body .pl-2 {
  padding-left: 8px!important;
}

.markdown-body .py-2 {
  padding-bottom: 8px!important;
  padding-top: 8px!important;
}

.markdown-body .pl-3,
.markdown-body .px-3 {
  padding-left: 16px!important;
}

.markdown-body .px-3 {
  padding-right: 16px!important;
}

.markdown-body .pl-4 {
  padding-left: 24px!important;
}

.markdown-body .pl-5 {
  padding-left: 32px!important;
}

.markdown-body .pl-6 {
  padding-left: 40px!important;
}

.markdown-body .f6 {
  font-size: 12px!important;
}

.markdown-body .lh-condensed {
  line-height: 1.25!important;
}

.markdown-body .text-bold {
  font-weight: 600!important;
}

.markdown-body:before {
  content: "";
  display: table;
}

.markdown-body:after {
  clear: both;
  content: "";
  display: table;
}

.markdown-body>:first-child {
  margin-top: 0!important;
}

.markdown-body>:last-child {
  margin-bottom: 0!important;
}

.markdown-body a:not([href]) {
  color: inherit;
  text-decoration: none;
}

.markdown-body blockquote,
.markdown-body dl,
.markdown-body ol,
.markdown-body p,
.markdown-body pre,
.markdown-body table,
.markdown-body ul {
  margin-bottom: 16px;
  margin-top: 0;
}

.markdown-body hr {
  background-color: #e1e4e8;
  border: 0;
  height: .25em;
  margin: 24px 0;
  padding: 0;
}

.markdown-body blockquote {
  border-left: .25em solid #dfe2e5;
  color: #6a737d;
  padding: 0 1em;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body kbd {
  background-color: #fafbfc;
  border: 1px solid #c6cbd1;
  border-bottom-color: #959da5;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #959da5;
  color: #444d56;
  display: inline-block;
  font-size: 11px;
  line-height: 10px;
  padding: 3px 5px;
  vertical-align: middle;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  font-weight: 600;
  line-height: 1.25;
  margin-bottom: 16px;
  margin-top: 24px;
}

.markdown-body h1 {
  font-size: 2em;
}

.markdown-body h1,
.markdown-body h2 {
  border-bottom: 1px solid #eaecef;
  padding-bottom: .3em;
}

.markdown-body h2 {
  font-size: 1.5em;
}

.markdown-body h3 {
  font-size: 1.25em;
}

.markdown-body h4 {
  font-size: 1em;
}

.markdown-body h5 {
  font-size: .875em;
}

.markdown-body h6 {
  color: #6a737d;
  font-size: .85em;
}

.markdown-body ol,
.markdown-body ul {
  padding-left: 2em;
}

.markdown-body ol ol,
.markdown-body ol ul,
.markdown-body ul ol,
.markdown-body ul ul {
  margin-bottom: 0;
  margin-top: 0;
}

.markdown-body li {
  word-wrap: break-all;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body li+li {
  margin-top: .25em;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  font-size: 1em;
  font-style: italic;
  font-weight: 600;
  margin-top: 16px;
  padding: 0;
}

.markdown-body dl dd {
  margin-bottom: 16px;
  padding: 0 16px;
}

.markdown-body table {
  display: block;
  overflow: auto;
  width: 100%;
}

.markdown-body table th {
  font-weight: 600;
}

.markdown-body table td,
.markdown-body table th {
  border: 1px solid #dfe2e5;
  padding: 6px 13px;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #c6cbd1;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f6f8fa;
}

.markdown-body img {
  background-color: #fff;
  box-sizing: content-box;
  max-width: 100%;
}

.markdown-body img[align=right] {
  padding-left: 20px;
}

.markdown-body img[align=left] {
  padding-right: 20px;
}

.markdown-body code {
  background-color: rgba(27,31,35,.05);
  border-radius: 3px;
  font-size: 85%;
  margin: 0;
  padding: .2em .4em;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre>code {
  background: transparent;
  border: 0;
  font-size: 100%;
  margin: 0;
  padding: 0;
  white-space: pre;
  word-break: normal;
}

.markdown-body .highlight {
  margin-bottom: 16px;
}

.markdown-body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body .highlight pre,
.markdown-body pre {
  background-color: #f6f8fa;
  border-radius: 3px;
  font-size: 85%;
  line-height: 1.45;
  overflow: auto;
  padding: 16px;
}

.markdown-body pre code {
  background-color: transparent;
  border: 0;
  display: inline;
  line-height: inherit;
  margin: 0;
  max-width: auto;
  overflow: visible;
  padding: 0;
  word-wrap: normal;
}

.markdown-body .commit-tease-sha {
  color: #444d56;
  display: inline-block;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 90%;
}

.markdown-body .blob-wrapper {
  border-bottom-left-radius: 3px;
  border-bottom-right-radius: 3px;
  overflow-x: auto;
  overflow-y: hidden;
}

.markdown-body .blob-wrapper-embedded {
  max-height: 240px;
  overflow-y: auto;
}

.markdown-body .blob-num {
  -moz-user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  color: rgba(27,31,35,.3);
  cursor: pointer;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 12px;
  line-height: 20px;
  min-width: 50px;
  padding-left: 10px;
  padding-right: 10px;
  text-align: right;
  user-select: none;
  vertical-align: top;
  white-space: nowrap;
  width: 1%;
}

.markdown-body .blob-num:hover {
  color: rgba(27,31,35,.6);
}

.markdown-body .blob-num:before {
  content: attr(data-line-number);
}

.markdown-body .blob-code {
  line-height: 20px;
  padding-left: 10px;
  padding-right: 10px;
  position: relative;
  vertical-align: top;
}

.markdown-body .blob-code-inner {
  color: #24292e;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 12px;
  overflow: visible;
  white-space: pre;
  word-wrap: normal;
}

.markdown-body .pl-token.active,
.markdown-body .pl-token:hover {
  background: #ffea7f;
  cursor: pointer;
}

.markdown-body kbd {
  background-color: #fafbfc;
  border: 1px solid #d1d5da;
  border-bottom-color: #c6cbd1;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #c6cbd1;
  color: #444d56;
  display: inline-block;
  font: 11px SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  line-height: 10px;
  padding: 3px 5px;
  vertical-align: middle;
}

.markdown-body :checked+.radio-label {
  border-color: #0366d6;
  position: relative;
  z-index: 1;
}

.markdown-body .tab-size[data-tab-size="1"] {
  -moz-tab-size: 1;
  tab-size: 1;
}

.markdown-body .tab-size[data-tab-size="2"] {
  -moz-tab-size: 2;
  tab-size: 2;
}

.markdown-body .tab-size[data-tab-size="3"] {
  -moz-tab-size: 3;
  tab-size: 3;
}

.markdown-body .tab-size[data-tab-size="4"] {
  -moz-tab-size: 4;
  tab-size: 4;
}

.markdown-body .tab-size[data-tab-size="5"] {
  -moz-tab-size: 5;
  tab-size: 5;
}

.markdown-body .tab-size[data-tab-size="6"] {
  -moz-tab-size: 6;
  tab-size: 6;
}

.markdown-body .tab-size[data-tab-size="7"] {
  -moz-tab-size: 7;
  tab-size: 7;
}

.markdown-body .tab-size[data-tab-size="8"] {
  -moz-tab-size: 8;
  tab-size: 8;
}

.markdown-body .tab-size[data-tab-size="9"] {
  -moz-tab-size: 9;
  tab-size: 9;
}

.markdown-body .tab-size[data-tab-size="10"] {
  -moz-tab-size: 10;
  tab-size: 10;
}

.markdown-body .tab-size[data-tab-size="11"] {
  -moz-tab-size: 11;
  tab-size: 11;
}

.markdown-body .tab-size[data-tab-size="12"] {
  -moz-tab-size: 12;
  tab-size: 12;
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 .2em .25em -1.6em;
  vertical-align: middle;
}

.markdown-body hr {
  border-bottom-color: #eee;
}

.markdown-body .pl-0 {
  padding-left: 0!important;
}

.markdown-body .pl-1 {
  padding-left: 4px!important;
}

.markdown-body .pl-2 {
  padding-left: 8px!important;
}

.markdown-body .pl-3 {
  padding-left: 16px!important;
}

.markdown-body .pl-4 {
  padding-left: 24px!important;
}

.markdown-body .pl-5 {
  padding-left: 32px!important;
}

.markdown-body .pl-6 {
  padding-left: 40px!important;
}

.markdown-body .pl-7 {
  padding-left: 48px!important;
}

.markdown-body .pl-8 {
  padding-left: 64px!important;
}

.markdown-body .pl-9 {
  padding-left: 80px!important;
}

.markdown-body .pl-10 {
  padding-left: 96px!important;
}

.markdown-body .pl-11 {
  padding-left: 112px!important;
}

.markdown-body .pl-12 {
  padding-left: 128px!important;
}

  </style>
  <style>
  /**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
	color: black;
	background: none;
	text-shadow: 0 1px white;
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	font-size: 1em;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
	text-shadow: none;
	background: #b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
	text-shadow: none;
	background: #b3d4fc;
}

@media print {
	code[class*="language-"],
	pre[class*="language-"] {
		text-shadow: none;
	}
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #f5f2f0;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: slategray;
}

.token.punctuation {
	color: #999;
}

.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
	color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
	color: #9a6e3a;
	background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
	color: #07a;
}

.token.function,
.token.class-name {
	color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
	color: #e90;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}

  </style>
  <style>
  
  </style>
  <style>
    .markdown-body {
      box-sizing: border-box;
      min-width: 200px;
      max-width: 980px;
      margin: 0 auto;
      padding: 45px;
    }
    .markdown-body table {
      display: table;
    }
    .markdown-body li.task-list-item {
      list-style-type: none;
    }
    .markdown-body li > [type=checkbox] {
      margin: 0 0 0 -1.3em;
    }
    .markdown-body input[type="checkbox"] ~ p {
      margin-top: 0;
      display: inline-block;
    }
    @media (max-width: 767px) {
      .markdown-body {
        padding: 15px;
      }
    }
  </style>
  <style></style>
</head>
<body>
  <article class="markdown-body">
  <h1 class="atx" id="visualisierung">Visualisierung</h1>
<p>Um entscheiden oder handeln zu können sind Infomationen notwendig. Z.B. Energiemonitoring um die Effizenz zu beurteilen oder ein Niederschlagradar um eine geeignete Tourenwahl zu treffen. Werden Berechnungen oder Modellierungen ausgeführt so helfen diese Informationen ebenfalls Entscheidungen zu fällen. Im Ingenieurwesen ist dies in der Regel ein Diagramm. In den beiden Tutorial auf <a href="https://www.pv4ing.ch">www.pv4ing.ch</a> sind die für uns relevanten Diagramme dargestellt. Zusätzlich sollte bei einer Visualisierung noch ein erklärender Text hinzu, nicht zu viel aber ein bisschen macht Sinn.</p>
<p>Denken wir an Energiemonitoring, so sollte die Visualisierung günstig sein, d.h. kein zusätzlicher Bildschirm und PC um den Zählerstand darzustellen. Das günstigste Display ist dies welches wir bereits dabei haben, das Mobil oder ein PC.</p>
<p>Deshalb bauen wir nicht ein eigenes GUI (Graphical User Interface), sondern erstellen eine Webpage. Auf der Messeinheit läuft ein Server, welcher die Information als Webpage darstellt und durch ein Mobil oder PC "angesurft" wird, welches die Informationen als Webpage über einen Browser darstellt.</p>
<p>Dabei ist neben der eigentlichen Information die Darstellung der Webpage wichtig um eine gute Lesbarkeit auf unterschiedlichen Geräten (PC, Notebook, Smartphone) zu erreichen. Dies wird als Responsiv Design bezeichnet.</p>
<p><img alt="" src="pic1.png"></p>
<h2 class="atx" id="leistsatz">Leistsatz</h2>
<p>Das Bauen einer Website kann zu einer sehr aufwändigen Sache werden, vorallem wenn wir uns in der Gestaltung verlieren. Deshalb einige Leitsätze:</p>
<ol>
<li><p>Konzentration aufdas s Wesentliche: Was ist die Kernaussage der Webpage? Desgin wird "zugekauft"</p>
</li>
<li><p>Effektiv</p>
</li>
<li><p>Für jeden Handgriff das richtige Werkzeug</p>
</li>
</ol>
<p>Der erste Punkt hat nicht mit programmieren oder Webpage zu tun.  Hierfür nimmt man Papier und Bleistift um die Kernaussage zu skizziern.</p>
<p>Bei zweiten Punkt "Effektiv" geht es daraum in kurzer Zeit eine Webpage zu erstellen. dies heisst Einfachheit im Aufbau mit wenig Code. Dies wird durch Python unterstützt da Python selbst dieses Ziel verfolgt beschrieben als "The Zen of Python":</p>
<ol>
<li><p>Beautiful is better than ugly. </p>
</li>
<li><p>Explicit (ausdrücklich) is better than implicit (indirekt).</p>
</li>
<li><p>Simple is better than complex. </p>
</li>
<li><p>Complex is better than complicated. </p>
</li>
<li><p>Flat is better than nested (verschachtelt).</p>
</li>
</ol>
<p>Es gibt noch weitere Punkte, gib auf der Python Konsole folgendes ein:</p>
<p><code>import this</code></p>
<p>Der dritte Punkt "die richtigen Werkzeuge" zu verwendet unterstützt ein effektives arbeit. Das heisst auch das wir nicht das Selbe zweimal machen. Ein geschriebener Code sollte mehrmals für unterschiedliche Webpages einsetzbar sein. Dieses Prinzpip wird als "Don't repeat yourself (DRY)" bezeichnet.</p>
<h2 class="atx" id="webframework">Webframework</h2>
<p>Zur Erstellung von Webpages wird deshalb ein Webframework verwendet. Dies ist ein Baukastensystem mit einer Vielzahl nützlicher Werkzeuge wie Benutzerverwaltung, Formulare, Upload von Dateien und voralllem ein integrierter Entwicklungsserver um die Webpage schnell und einfach darzustellen ohne dem Aufsetzten eines Servers.</p>
<p>Der erste Schritt hierzu ist die Auftrennung von <em>Information</em>  und der <em>Darstellung</em>, wodurch beide Blöcke wiederverwendbar sind. Selbe Darstellung mit anderen Informationen oder selbe Informationen bei unterschiedlichen Darstellungen.</p>
<p><img alt="" src="pic2.png"></p>
<p>Als Webframework verwenden wir Djano basierend auf Python. Dies Framework wird bei hunderten Webpages eingesetzt wie Youtube, Dropbox, Google, Netflix, Spotify, Pinterest, NASA, uvm. Der Untertitel von Django heisst "The web framework for perfectionists with deadlines" und zeigt die Stärken von Django, wie:</p>
<ul>
<li><p>Schnell umsetzbar mit wenig Code</p>
</li>
<li><p>Sicherheit inbegriffen</p>
</li>
<li><p>Skalierbar </p>
</li>
<li><p>Vielfach erprobt und bewährt</p>
</li>
</ul>
<p>Djanog ist benannt nach dem Gitaristen Django Reinhardt.</p>
<p><img alt="" src="djangoReinhardt.jpg"></p>
<h2 class="atx" id="architektur-django">Architektur Django</h2>
<p>Die Architektur von Django teilt die <em>Darstellung (Template)</em> von den <em>Informationen (Model)</em>, welche, je nach Anfrage (request) unterschiedlich zusammengebaut (<em>View</em>) werden. Das Konzept wird als MTV bezeichnet für <em>Model, Template, View</em> und ist eine lose gekoppelte Struktur, sodass einzelne Teile wiederverwendet werden können.</p>
<p><img alt="" src="pic3.png"></p>
<h1 class="atx" id=""></h1>
<h3 class="atx" id="view">View</h3>
<p>Die View ist die Programmeinheit bei Django, welche die Webpage zusammenbaut und darstellt, deshalb view. Hier werden auch die Anfragen (request) behandelt und die Adresse geprüft.</p>
<p>In der allgemeinen Literatur wird das MTV-Modell häufiger als MVC-Modell verwedet für Model, View, Control. Hier entspricht View dem DjangoTemplate und Control der Django View.</p>
<h3 class="atx" id="template">Template</h3>
<p>Das Template beinhaltet die Darstellung, das Design der Webpage. Dieses Template werden wir nicht bauen, sondern fertig beziehen. Eine Quelle ist <a href="http://www.html5up.net">www.html5up.net</a>.</p>
<h3 class="atx" id="model">Model</h3>
<p>Unter Model werden die Informationen verstanden. Diese werden als Daten in einer Datenbank abgelegt. Um auf die Daten zugreifen zu können sind Datenbankabfragen wie SQL notwendig, diese sind jedoch nicht einfach und Django soll einfach sein. Deshalb wird die Information als Model definiert um so auf die Daten zugreifen zu können unabhängig der Datenbankstruktur im Hintergrund.</p>
<p>Die Modellierung erfolgt über Objekte.</p>
<h4 class="atx" id="was-sind-objekte">Was sind Objekte?</h4>
<p>Ein Objekt ist eine Sammlung von Eigenschaften und Aktionsmöglichkeiten (Funktionen/Methoden), das anhand einer Vorlage (Klasse) erstellt wird. Das klingt erst einmal komisch, aber hier haben wir gleich ein Beispiel.</p>
<p>Wenn wir zum Beispiel ein Fahrrad modellieren wollen, erschaffen wir eine Objektvorlage <code>Fahrrad</code>, eine Art Blaupause oder Schema, nach welcher zukünftig jedes spezifische Fahrradobjekt erstellt werden kann. Die Vorlage beschreibt typische Eigenschaften von einem Fahrrad, z.B. <code>farbe</code>, <code>typ</code> (z.b. Tourenrad, Mountainbike, Rennrad) und <code>anzahlService</code> welches die gemachten Service mitzählt.</p>
<p>Jedes Objekt der Vorlage <code>Fahrrad</code> soll natürlich auch einige Aktionsmöglichkeiten besitzen: <code>servicegemacht</code>. Dies sieht dann so aus:</p>
<pre><code class="indented-code-block">Fahrrad
--------
farbe
typ
anzahlService
servicegemacht()
</code></pre>
<p>In Pythonschreibt man wie folgt:</p>
<pre><code class="fenced-code-block language-python"><span class="token keyword">class</span> <span class="token class-name">Fahrrad</span><span class="token punctuation">:</span>
    farbe <span class="token operator">=</span> <span class="token string">'gelb'</span>
    typ  <span class="token operator">=</span> <span class="token string">'rennrad'</span>
    anzahlService <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token keyword">def</span> <span class="token function">servicegemacht</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>anzahlService <span class="token operator">=</span> self<span class="token punctuation">.</span>anzahlService <span class="token operator">+</span> <span class="token number">1</span>
</code></pre>
<p>Mit diesem Code hast du eine Vorlage definiert. Nun erzeugst du ein Objekt <code>velo</code>.</p>
<pre><code class="indented-code-block">velo = Fahrrad()
</code></pre>
<p>Die Eigenschaften von <code>velo</code> kann du abfragen indem du <code>velo.anzahlService</code>eingibst. Wenn du nun einen Service gemacht hast, d.h. die Funktion aufgerufen hast (<code>velo.servicegemacht()</code>), so erhöht sich die <code>anzahlService</code>. Probiere es aus.</p>
<p>Was jedoch nicht schön ist, dass alle Objekte welche wir nun erzeugen die gleiche Farbe und den gleichen Fahrradtyp enthalten. Dies ändern wir nun:</p>
<pre><code class="fenced-code-block language-python"><span class="token keyword">class</span> <span class="token class-name">Fahrrad</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> neueFarbe<span class="token punctuation">,</span> neuerTyp<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>farbe <span class="token operator">=</span> neueFarbe
        self<span class="token punctuation">.</span>typ  <span class="token operator">=</span> neuerTyp
        self<span class="token punctuation">.</span>anzahlService <span class="token operator">=</span> <span class="token number">0</span>  

    <span class="token keyword">def</span> <span class="token function">servicegemacht</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>anzahlService <span class="token operator">=</span> self<span class="token punctuation">.</span>anzahlService <span class="token operator">+</span> <span class="token number">1</span>
</code></pre>
<p>Nun können wir unterschiedliche Fahrräder von der Vorlage erzeugen. Die Frage und den Fahrradtyp definieren wir, wenn wir ein neues Objekt erzeugen.</p>
<pre><code class="indented-code-block">velo = Fahrrad('grün', 'Tourenrad')
</code></pre>
<p>Dabei müssen wir die Methode <code>_init_</code> nicht explizit aufrufen, sondern einfach die Werte in Klammern übergeben, wenn das Objekt erzeugt wird, basierend der Vorlage.</p>
<h1 class="atx" id="einrichten-der-werkstatt">Einrichten der Werkstatt</h1>
<p>Zum Leitsatz 3 "Für jeden Handgriff das richtige Werkzeug" richten uns zuerst eine Arbeitsumgebung, ein <em>virtual enviroment</em> ein. Dies legt ein Ordner an indem unsere Python, Django, Bokeh Programme mit definierter Verion abgelegt sind. Sollten wir auf dem PC später mal ein Update durchführen, so bleibt unser Projekt trotzdem auf dem Versionsstand auf dem wir es gebaut haben.</p>
<p>Dies ist jetzt ein Mehraufwand, genau jetzt wo so viel Neues auf uns zukommt, aber es macht sich bezahlt. Wenn du später auf ein Projekt zurückgreifen möchtst haben sich die Versionen weiterentwickelt und der ürspüngliche Projekt-Code läuft nicht mehr, was nicht nur ärgerlich, sondern sehr zeitaufwändig ist. Deshalb "frieren" wir den aktuelle Stand der Entwicklungsumgebung ein. </p>
<p>Wir erstellen zuerst unser Projektverzeichnis <code>djangoProjekt</code>. In diesem Verzeichnis erstellen wir eine virtuelle Umgebung namens <code>myvenv</code>. Im Anaconda-Paket ist die notwendige Software 'venv 'enthalten. Wir starten Python und weisen dieses an (mit -m) das die Software 'venv' ausgeführt werden soll:</p>
<pre><code class="indented-code-block">python -m venv myvenv
</code></pre>
<p>Nun starten wir die virtuelle Umgebung in unserem Projektverzeichnis mit </p>
<pre><code class="indented-code-block">D:\djangoProjekt&gt; myvenv\Scripts\activate
</code></pre>
<p>Damit die verwendeten Versionen der auf dem gewünschten Stand sind und dieser dokumentiert ist, erstellen wir eine <em>neue</em> Textdatei <code>swpakete.txt</code>. Darin listen wir die SW-Pakete mit den Versionen:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;pip
&nbsp;&nbsp;&nbsp;&nbsp;Django==2.2.1
&nbsp;&nbsp;&nbsp;&nbsp;bokeh==1.3.4 </p>
<p>Nun aktualisieren:</p>
<pre><code class="indented-code-block"> pip install -r swpakete.txt
</code></pre>
<p>Nun sind wir eingerichtet. Mit <code>pip list</code>  kannst du die aktuell, installierten Versionen ansehen. </p>
<h1 class="atx" id="1-projekt-anlegen">1. Projekt anlegen</h1>
<p>Die Funktionsweise von Django erklären wir indem wir ein Tourenbuch erstellen, als Webpage! Für die Webpage legen wir zuerst ein Ordner bzw. ein Projekt an. Anschliessend definieren wir, wie die Anfragen, d.h. die URLs behandelt werden und dann die Webpage als View generiert wird. Zuvor benötigen wir aber Informationen, welche als Modelle definiert werden. Hier unterstützt uns Django-Administration. Am Ende kümmern wir uns dann um die Darstellung. Wir führen 8 Schritte durch:</p>
<ol>
<li><p>Projekt anlegen</p>
</li>
<li><p>Modelle</p>
</li>
<li><p>Django-Administration</p>
</li>
<li><p>URLs</p>
</li>
<li><p>Views</p>
</li>
<li><p>Datenbankabfrage</p>
</li>
<li><p>Dynamische Daten in Templates</p>
</li>
<li><p>Darstellung </p>
</li>
</ol>
<p>Die ersten 7 Kapitel basieren auf dem <a href="https://tutorial.djangogirls.org/de/">Tutorial Djangogirls</a> lizenziert unter <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>. </p>
<p>Der erste Schritt ist, ein neues Django-Projekt zu starten. Im Grunde bedeutet das, dass wir einige Skripte ausführen werden, die Django zur Verfügung stellt, um ein Skelett eines Django-Projekts für uns zu erzeugen. Das Projekt beinhaltet einen Haufen von Verzeichnissen und Dateien, die wir später verwenden werden.</p>
<p>Die Namen einiger Dateien und Verzeichnisse sind sehr wichtig für Django, da sich Django durch die Verzeichnisnamen und Dateinamen orientiert. Wir nennen unserer Seite <code>mysite</code> (können diese beliebig bezeichnen).</p>
<pre><code class="indented-code-block">(myvenv) ~/djangoProjekt&gt; django-admin startproject mysite .
</code></pre>
<p>Der Punkt <code>.</code> ist sehr wichtig, weil er dem Skript mitteilt, dass Django in deinem aktuellen Verzeichnis installiert werden soll. (Der Punkt <code>.</code> ist eine Schnellreferenz dafür.)</p>
<p><code>django-admin.py</code> ist ein Skript, welches Verzeichnisse und Dateien für dich erstellt. Du solltest jetzt eine Verzeichnisstruktur haben, die folgendermaßen aussieht:</p>
<pre><code class="indented-code-block">djangoProjekt
├───manage.py
├───mysite
│        settings.py
│        urls.py
│        wsgi.py
│        __init__.py
├───myvenv
└───swpakete.txt
</code></pre>
<p><code>manage.py</code> ist ein Script, das das Management deines Projektes unterstützt. Mit dem Script bist du unter anderem in der Lage, den Webserver auf deinem Rechner zu starten, ohne etwas Weiteres installieren zu müssen.</p>
<p>Die Datei <code>settings.py</code> beinhaltet die Konfiguration deiner Website.</p>
<p>Die <code>urls.py</code> Datei ist die Datei welche die einkommenden Anfragen (request) überprüft.</p>
<p>Lass uns kurz die anderen Dateien vergessen - wir werden sie nicht verändern. Denk aber dran, sie nicht versehentlich zu löschen!</p>
<p>Der <code>myvenv</code>-Ordner und die <code>swpakete.txt</code>-Datei kommen von der virtuellen Umgebung, nicht von Django.</p>
<h2 class="atx" id="einstellungen-anpassen">Einstellungen anpassen</h2>
<p>Wir machen nun ein paar Änderungen in <code>mysite/settings.py</code>. Öffne die Datei mit dem Code-Editor, den du schon installiert hast.</p>
<p>Es wäre schön, wenn die richtige Zeit auf deiner Webseite eingestellt ist. Gehe zur <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">Zeitzonen-Liste auf Wikipedia</a> und kopiere die für dich geltende Zeitzone (Spalte "TZ"), z.B. <code>Europe/Zurich</code>.</p>
<p>Suche in <code>settings.py</code> die Zeile, die <code>TIME_ZONE</code> enthält und ändere sie ab, um deine eigene Zeitzone auszuwählen. Zum Beispiel:</p>
<pre><code class="fenced-code-block language-python">TIME_ZONE <span class="token operator">=</span> <span class="token string">'Europe/Zurich'</span>
</code></pre>
<p>Ein Sprachkennung besteht aus einem Kürzel für die Sprache, z.B. <code>en</code> für Englisch oder <code>de</code> für Deutsch, und einem Länder-Kürzel z.B.  <code>ch</code> für die Schweiz. Falls Englisch nicht deine Muttersprache ist, kannst du damit die Standard-Knöpfe und -Meldungen von Django auf deine Sprache wechseln. Der "Cancel"-Knopf würde dann in diese Sprache übersetzt (und z.B. bei Deutsch mit "Abbrechen" beschriftet). <a href="https://docs.djangoproject.com/en/2.2/ref/settings/#language-code">Django enthält viele fix-fertige Übsersetzungen</a>.</p>
<p>Wenn du eine andere Sprache als Englisch willst, ändere die Sprachkennung, indem du die folgende Zeile änderst:</p>
<pre><code class="fenced-code-block language-python">LANGUAGE_CODE <span class="token operator">=</span> <span class="token string">'de-ch'</span>
</code></pre>
<p>Ausserdem müssen wir einen Pfad für statische Dateien festlegen. (Über statische Dateien und CSS lernst du später in diesem Tutorial etwas.) Geh hinunter zum <em>Ende</em> der Datei und füge direkt unter dem <code>STATIC_URL</code>-Eintrag einen neuen Eintrag namens <code>STATIC_ROOT</code> ein:</p>
<pre><code class="fenced-code-block language-python">STATIC_URL <span class="token operator">=</span> <span class="token string">'/static/'</span>
STATIC_ROOT <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>BASE_DIR<span class="token punctuation">,</span> <span class="token string">'static'</span><span class="token punctuation">)</span>
</code></pre>
<p>Wenn <code>DEBUG</code> auf <code>True</code> gesetzt ist und <code>ALLOWED_HOSTS</code> leer, dann wird der "Host" gegen <code>['localhost', '127.0.0.1', '[::1]']</code> validiert. Falls die Seite später im Internet läuft ist hier der Hostname (z.B. .meineSeite.ch) anzugeben.</p>
<pre><code class="fenced-code-block language-python">ALLOWED_HOSTS <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> <span class="token string">'.meineSeite.ch'</span><span class="token punctuation">]</span>
</code></pre>
<h2 class="atx" id="eine-datenbank-erstellen">Eine Datenbank erstellen</h2>
<p>Es gibt viele verschiedene Datenbank Programme, welche die Daten unserer Website verwalten können. Wir werden die Standard-Datenbanksoftware nehmen, <code>sqlite3</code>.</p>
<p>Das sollte schon in der <code>mysite/settings.py</code>-Datei eingestellt sein:</p>
<pre><code class="fenced-code-block language-python">DATABASES <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'default'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">'ENGINE'</span><span class="token punctuation">:</span> <span class="token string">'django.db.backends.sqlite3'</span><span class="token punctuation">,</span>
        <span class="token string">'NAME'</span><span class="token punctuation">:</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>BASE_DIR<span class="token punctuation">,</span> <span class="token string">'db.sqlite3'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Um eine Datenbank für unseren Blog zu erstellen, müssen wir folgenden Befehl in der Konsole ausführen (Dazu müssen wir in dem <code>djangoProjekt</code>-Verzeichnis sein, in dem sich auch die <code>manage.py</code>-Datei befindet). Wenn alles glatt läuft, sollte das so aussehen:</p>
<pre><code class="indented-code-block">(myvenv) ~/djangoProjekt$ python manage.py migrate
Operations to perform:
  Apply all migrations: auth, admin, contenttypes, sessions
Running migrations:
  Rendering model states... DONE 
  Applying contenttypes.0001_initial... OK
  Applying auth.0001_initial... OK
  Applying admin.0001_initial... OK
  Applying admin.0002_logentry_remove_auto_add... OK 
  Applying contenttypes.0002_remove_content_type_name... OK 
  Applying auth.0002_alter_permission_name_max_length... OK 
  Applying auth.0003_alter_user_email_max_length... OK 
  Applying auth.0004_alter_user_username_opts... OK  
  Applying auth.0005_alter_user_last_login_null... OK 
  Applying auth.0006_require_contenttypes_0002... OK
  Applying auth.0007_alter_validators_add_error_messages... OK
  Applying auth.0008_alter_user_username_max_length... OK
  Applying auth.0009_alter_user_last_name_max_length... OK
  Applying sessions.0001_initial... OK
</code></pre>
<p>Und wir sind fertig! Zeit, unseren Webserver zu starten, um zu sehen, ob unsere Website funktioniert!</p>
<h2 class="atx" id="den-webserver-starten">Den Webserver starten</h2>
<p>Kontrolliere, dass du in dem Verzeichnis bist, in dem die <code>manage.py</code>-Datei liegt (das <code>djangoProjekt</code>-Verzeichnis). Wir starten den Webserver, indem wir in der Konsole <code>python manage.py runserver</code> ausführen:</p>
<pre><code class="indented-code-block">(myvenv) ~/djangoProjekt$ python manage.py runserver
</code></pre>
<p>Jetzt wollen wir schauen, ob unsere Website funktioniert: Öffne deinen Browser (Firefox, Chrome, Safari, Edge oder was du sonst nutzt) und gib diese Adresse ein:</p>
<p><code>http://127.0.0.1:8000/</code></p>
<p>Glückwunsch! Du hast gerade deine erste Website erstellt und sie auf deinem Webserver laufen! Ist das nicht toll?</p>
<p><img alt="" src="install_worked.png"></p>
<p>Beachte, dass ein Terminalfenster immer nur eine Sache zur selben Zeit erledigen kann, und in dem Terminalfenster, was du vorhin geöffnet hast, läuft gerade der Webserver. Und solange der Webserver läuft und auf einkommende Anfragen wartet, akzeptiert das Terminal zwar Texteingaben, aber es wird keine neuen Befehle ausführen. </p>
<h1 class="atx" id="2-modelle">2. Modelle</h1>
<p>Wir erstellen jetzt etwas, damit wir alle Tours von unserem Tourenbuch speichern können. Dies machen wir mit <code>Objekten</code>.  Ein Objekt besteht aus Eigenschaften und Aktionsmöglichkeiten (genannt <code>Methoden</code>) .Wir müssen folgende Fragen beantworten:  Welche Eigenschaften sollte er haben? Titel, Beschreibungstext, zurückgelegte Distanz und Aufstiegs- und Abstiegshöhe, sowie die Dauer für die Tour. Weiter der Zeitpunkt wann der Eintag veröffentlicht wurde. Dies sind Objekteigenschaften. Wir nennen das Objekt <code>Tour</code>, gross geschrieben wie bei Objekten üblich.</p>
<pre><code class="indented-code-block">Tour 
-------- 
titel 
text
distanz
aufstieg
abstieg
dauer
sichtbarSeit
</code></pre>
<p>Was für Dinge könnte man mit dem Toureneintrag machen? Es wäre schön, wenn wir eine <code>Methode</code> hätten, die den Tour zu veröffentlicht. Wir brauchen also eine <code>veroffentlichen</code>-Methode.</p>
<p>Da wir jetzt wissen, was wir erreichen wollen, können wir nun damit anfangen, es in Django zu formulieren!</p>
<h2 class="atx" id="ein-django-model-erstellen">Ein Django-Model erstellen</h2>
<p>Wir erstellen ein Django-Model, eine Vorlage. Mit dieser werden zukünftig einzelne Touren-Einträge bzw. Tourobjekte erstellt.</p>
<p>Ein "Modell" ist in Django ein Objekt einer speziellen Sorte – eines das in der <code>Datenbank</code> gespeichert wird. Eine Datenbank ist eine Sammlung von Daten. Dies ist ein Ort, an dem du Informationen zu Benutzern, deinen Toureneinträge usw. speichern wirst. Wir benutzen dafür eine SQLite-Datenbank. Das ist die Voreinstellung in Django – für uns wird das erst einmal ausreichen.</p>
<p>Du kannst dir ein Model wie eine Tabelle mit Spalten ("Feldern", englisch "fields") und Zeilen (Datensätzen) vorstellen.</p>
<h3 class="atx" id="eine-applikation-für-unser-tourenbuch">Eine Applikation für unser Tourenbuch</h3>
<p>Um unsere Webseite aufgeräumt zu halten, werden wir eine eigene Anwendung für unser Projekt erstellen, wir nennen das eine Applikation. Wir wollen uns gleich daran gewöhnen, alles ordentlich und sortiert zu halten. Um eine Applikation zu erstellen, müssen wir das folgende Kommando in der Konsole ausführen (wieder in dem <code>djangoProjekt</code>-Verzeichnis, in dem die <code>manage.py</code>-Datei liegt):</p>
<pre><code class="indented-code-block">(myvenv) ~/djangoProjekt$ python manage.py startapp tourenbuch
</code></pre>
<p>Wie du sehen kannst, wurde ein neues <code>tourenbuch</code>-Verzeichnis erstellt, welches schon einige Dateien enthält. Das Verzeichnis und die Dateien unseres Projektes sollten jetzt so aussehen:</p>
<pre><code class="indented-code-block">djangoProjekt
├── tourenbuch
│&nbsp;&nbsp; ├── __init__.py
│&nbsp;&nbsp; ├── admin.py
│&nbsp;&nbsp; ├── apps.py
│&nbsp;&nbsp; ├── migrations
│&nbsp;&nbsp; │&nbsp;&nbsp; └── __init__.py
│&nbsp;&nbsp; ├── models.py
│&nbsp;&nbsp; ├── tests.py
|   ├── urls.py
│&nbsp;&nbsp; └── views.py
├── db.sqlite3
├── manage.py
├── mysite
│&nbsp;&nbsp; ├── __init__.py
│&nbsp;&nbsp; ├── settings.py
│&nbsp;&nbsp; ├── urls.py
│&nbsp;&nbsp; └── wsgi.py
├───myvenv
└───swpakete.txt
</code></pre>
<p>Nach dem Erstellen der Applikation müssen wir Django noch sagen, dass diese auch genutzt werden soll. Das tun wir in der Datei <code>mysite/settings.py</code> -- öffne diese in deinem Code-Editor. Wir suchen den Eintrag <code>INSTALLED_APPS</code> und fügen darin die Zeile <code>'tourenbuch.apps.TourenbuchConfig',</code> (Name durch die zuvor definierte app gegeben) direkt über der schließenden Klammer <code>]</code> ein. Danach sollte es also so aussehen:</p>
<pre><code class="fenced-code-block language-python">INSTALLED_APPS <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">'django.contrib.admin'</span><span class="token punctuation">,</span>
    <span class="token string">'django.contrib.auth'</span><span class="token punctuation">,</span>
    <span class="token string">'django.contrib.contenttypes'</span><span class="token punctuation">,</span>
    <span class="token string">'django.contrib.sessions'</span><span class="token punctuation">,</span>
    <span class="token string">'django.contrib.messages'</span><span class="token punctuation">,</span>
    <span class="token string">'django.contrib.staticfiles'</span><span class="token punctuation">,</span>
    <span class="token string">'tourenbuch.apps.TourenbuchConfig'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre>
<h3 class="atx" id="das-tour-model">Das Tour-Model</h3>
<p>Alle <code>Models</code> unserer Applikation werden in der <code>tourenbuch/models.py</code>-Datei definiert. Dies ist also der richtige Platz für unser Tour-Model.</p>
<p>Öffnen wir also <code>tourenbuch/models.py</code> im Code-Editor, löschen alles darin und schreiben Code wie diesen:</p>
<pre><code class="fenced-code-block language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>conf <span class="token keyword">import</span> settings
<span class="token keyword">from</span> django<span class="token punctuation">.</span>db <span class="token keyword">import</span> models
<span class="token keyword">from</span> django<span class="token punctuation">.</span>utils <span class="token keyword">import</span> timezone

<span class="token keyword">class</span> <span class="token class-name">Tour</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    titel <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>
    text <span class="token operator">=</span> models<span class="token punctuation">.</span>TextField<span class="token punctuation">(</span><span class="token punctuation">)</span>
    distanz <span class="token operator">=</span> models<span class="token punctuation">.</span>FloatField<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># [km]</span>
    aufstieg <span class="token operator">=</span> models<span class="token punctuation">.</span>FloatField<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># [m]</span>
    abstieg <span class="token operator">=</span> models<span class="token punctuation">.</span>FloatField<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># [m]</span>
    dauer <span class="token operator">=</span> models<span class="token punctuation">.</span>FloatField<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># [h] Stunden als Dezimalzahl</span>
    sichtbarSeit <span class="token operator">=</span> models<span class="token punctuation">.</span>DateTimeField<span class="token punctuation">(</span>blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">veroffentlichen</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>sichtbarSeit <span class="token operator">=</span> timezone<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>titel
</code></pre>
<p>Kontrolliere nochmal, dass du zwei Unterstriche (<code>__</code>) vor und hinter dem <code>str</code> gesetzt hast. Diese Konvention wird häufig in Python benutzt und manchmal nennen wir es "dunder" (kurz für "double-underscore").</p>
<p>Es sieht kompliziert aus, oder? Aber keine Sorge, wir werden erklären, was diese Zeilen bedeuten!</p>
<p>Die Zeilen, die mit <code>from</code> oder <code>import</code> beginnen, sind Anweisungen, um Sachen aus anderen Dateien mitzunutzen. Anstatt häufig genutzten Code in jede Datei einzeln zu kopieren, binden wir ihn ein mit: <code>from... import ...</code>.</p>
<p><code>class Tour(models.Model):</code> – Diese Zeile definiert unser Model (eine Objekt-Vorlage).</p>
<ul>
<li><code>class</code> ist ein spezielles Schlüsselwort, das angibt, dass wir hier eine Klasse, eine Vorlage für zukünftige Objekte, definieren wollen.</li>
<li><code>Tour</code> ist der Name unseres Models. Wir können ihm auch einen anderen Namen geben (aber wir müssen Sonderzeichen und Leerzeichen vermeiden). Beginne einen Klassennamen immer mit einem Großbuchstaben.</li>
<li><code>models.Model</code> gibt an, dass das Tour-Model ein Django-Model ist, so weiß Django, dass es in der Datenbank gespeichert werden soll.</li>
</ul>
<p>Jetzt definieren wir die Eigenschaften, über welche wir gesprochen haben: <code>titel</code>, <code>text</code>, <code>distanz</code>, <code>aufsteig</code>, <code>abstieg</code>,  <code>dauer</code> und <code>sichtbarSeit</code>. Um dies zu tun, müssen wir den Typ jedes Felds definieren. (Ist es Text? Eine Zahl? Ein Datum?)</p>
<ul>
<li><code>models.CharField</code> – so definierst du ein Textfeld mit einer limitierten Anzahl von Zeichen.</li>
<li><code>models.TextField</code> – so definierst du ein langes Textfeld ohne Grössenbeschränkung. Klingt doch perfekt für unsere Blogpostinhalte, oder?</li>
<li><code>models.DateTimeField</code> – ein Feld für einen Zeitpunkt (ein Datum und eine Uhrzeit).</li>
<li><code>models.FloatField</code> – definiert ein Zahlenfeld.</li>
</ul>
<p>Was ist mit <code>def veroffentlichen(self):</code>? Das ist genau die <code>veroffentlichen</code>-Methode zum Veröffentlichen unseres Toureneintrags. <code>def</code> zeigt an, dass es sich nachfolgend um eine Funktion/Methode handelt, und <code>veroeffentlichen</code> ist der Name der Methode. Du kannst den Namen der Methode auch ändern, wenn du möchtest. Die Benennungsregel ist, dass wir Kleinbuchstaben verwenden, und anstatt Leerzeichen (die in Funktionsnamen nicht vorkommend dürfen) Unterstriche. Eine Methode, die einen Durchschnittspreis berechnet, könnte zum Beispiel <code>calculate_average_price</code> genannt werden.</p>
<p>Oft geben Methoden einen Wert zurück (englisch: <code>return</code>). Ein Beispiel dafür ist die Methode <code>__str__</code>. In diesem Szenario, wenn wir <code>__str__()</code> aufrufen, bekommen wir einen durch uns definierten Text (string) zurück, anstatt schwerverständlichen Code.</p>
<p>Beachte, dass sowohl <code>def veroeffentlichen(self):</code> als auch <code>def __str__(self):</code> in unserer Klasse eingerückt sind. Mit der Einrückung sagen wir Python, dass diese Methoden Teil der Klasse sind. Ohne die Einrückung wären es für Python Funktionen ausserhalb der Klasse, was zu anderem Verhalten führen würde.</p>
<h3 class="atx" id="tabellen-für-models-in-deiner-datenbank-erstellen">Tabellen für Models in deiner Datenbank erstellen</h3>
<p>Als letzten Schritt wollen wir unser neues Model der Datenbank hinzufügen. Dazu müssen wir Django erst 'mal mitteilen, dass wir einige Änderungen an unserem Model vorgenommen haben. Das sieht dann so aus:</p>
<pre><code class="indented-code-block">(myvenv) ~/djangoProjekt$ python manage.py makemigrations tourenbuch
Migrations for 'tourenbuch':
  journal/migrations/0001_initial.py:

  - Create model Tour
</code></pre>
<p><strong>Hinweis:</strong> Denke daran, die Dateien nach dem Editieren zu speichern. Ansonsten führt dein Computer die vorherige Version aus, was zu unerwarteten Fehlermeldungen führen kann.</p>
<p>Django hat eine Migrationsdatei für uns vorbereitet, die wir nun auf unsere Datenbank anwenden müssen. Führ folgendes aus:</p>
<pre><code class="indented-code-block">(myvenv) ~/djangoProjekt$ python manage.py migrate tourenbuch
Operations to perform:   
   Apply all migrations: tourenbuch
Running migrations:
   Applying tourenbuch.0001_initial... OK
</code></pre>
<p>Hurra! Unser Tour-Model ist ab sofort in unserer Datenbank gespeichert! Sehe wir es uns an...</p>
<h1 class="atx" id="3-django-administration">3. Django-Administration</h1>
<p>Wir benutzen den Django-Admin, um die soeben modellierten Tours hinzuzufügen, zu ändern oder zu löschen.</p>
<p>Öffne die Datei <code>tourenbuch/admin.py</code> im Code-Editor und ersetze den Inhalt wie folgt:</p>
<pre><code class="fenced-code-block language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Tour

admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>register<span class="token punctuation">(</span>Tour<span class="token punctuation">)</span>
</code></pre>
<p>Wie du siehst, importieren wir hier das Model "Tour", das wir im vorherigen Kapitel erstellt haben. Damit unser Model auf der Admin-Seite sichtbar wird, müssen wir es mit <code>admin.site.register(Tour)</code> registrieren.</p>
<p>Okay, wir sehen uns nun unser Tour-Model an. Denk daran, <code>python manage.py runserver</code> in die Konsole einzugeben, um den Webserver zu starten. Öffne deinen Browser und gib die Adresse <a href="http://127.0.0.1:8000/admin/">http://127.0.0.1:8000/admin/</a> ein. Du siehst eine Anmeldeseite:</p>
<p><img alt="" src="login_page2.png"></p>
<p>Um dich einloggen zu können, musst du zunächst einen <em>superuser</em> erstellen - einen User, der alles auf der Website steuern darf. Geh zurück zur Kommandozeile, tippe <code>python manage.py createsuperuser</code> und drücke Enter.</p>
<p>Denke daran, damit du neue Kommandos eingeben kannst während der Webserver läuft, musst du ein neues Terminal öffnen und deine virtualenv aktivieren. </p>
<p>Wenn du dazu aufgefordert wirst, gib einen Benutzernamen (Kleinbuchstaben, keine Leerzeichen), eine Mailadresse und ein Passwort ein. Die Passwort-Eingabe ist nicht sichtbar. Beispiel <code>user: guide; e-mail: guide@test.ch; pwd: esgehthinauf</code>.  </p>
<p>Geh nochmal in deinen Browser und log dich mit den Daten des Superusers ein, den du gerade erstellt hast. Du solltest nun das Django-Admin-Dashboard sehen.</p>
<p><img alt="" src="django_admin3.png"></p>
<p>Gehe auf Tours und experimentiere ein bisschen damit. Füge z.B. zwei Toureneinträge hinzu. Mach dir keine Sorgen wegen des Inhalts -- der ist nur auf deinem lokalen Computer sichtbar. </p>
<p>Achte darauf, dass bei einem kein Veröffentlichungsdatum eingetragen ist. Das werden wir später noch brauchen.</p>
<p><img alt="" src="edit_post3.png"></p>
<p>Mehr zum Django-Admin-Dashboard kannst du in der Django-Dokumentation erfahren: <a href="https://docs.djangoproject.com/en/2.2/ref/contrib/admin/">https://docs.djangoproject.com/en/2.2/ref/contrib/admin/</a></p>
<p>Drei der acht Schritte haben wir. Jetzt ist wahrscheinlich ein guter Moment, um dir einen Kaffee (oder Tee) zu gönnen und neue Kraft zu tanken. Du hast dein erstes Django-Model erstellt - du hast dir eine kleine Pause verdient!</p>
<h1 class="atx" id="4-urls">4. URLs</h1>
<p>Gleich werden wir unsere erste Website basteln: eine Homepage als Tour! Zuerst sollten wir uns jedoch mit Django URLs beschäftigen.</p>
<h2 class="atx" id="was-ist-eine-url">Was ist eine URL?</h2>
<p>Eine URL ist eine Web-Adresse. Jedes Mal, wenn du eine Website besuchst, kannst du eine URL sehen - sie ist in der Adressleiste des Browsers sichtbar. (Ja! <code>127.0.0.1:8000</code> ist eine URL! Und <code>http://www.pv4ing.ch</code> ist auch eine URL.)</p>
<p><img alt="" src="url.png"></p>
<p>Jede Seite im Internet braucht ihre eigene URL. Dadurch weiß deine Applikation, was sie dem Nutzer, der eine URL öffnet, zeigen soll. In Django verwenden wir eine sogenannte <code>URLconf</code> (URL-Konfiguration). URLconf ist eine Ansammlung von Mustern, die Django mit der empfangenen URL abgleicht, um die richtige View zu finden, das heißt, um letztlich die richtige Seite für den Nutzer anzuzeigen.</p>
<h2 class="atx" id="wie-funktionieren-urls-in-django">Wie funktionieren URLs in Django?</h2>
<p>Öffne die <code>mysite/urls.py</code>-Datei in deinem Code-Editor nach Wahl und schaue dir an, wie sie aussieht:</p>
<pre><code class="fenced-code-block language-python"><span class="token triple-quoted-string string">"""mysite URL Configuration

[...]
"""</span>
<span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path

urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">'admin/'</span><span class="token punctuation">,</span> admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>urls<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre>
<p>Wie du siehst, hat Django hier schon etwas für uns eingefügt.</p>
<p>Zeilen zwischen dreifachen Gänsefüßchen (<code>'''</code> oder <code>"""</code>) heißen Docstrings (Kommentare) - man kann sie am Anfang der Datei, Klasse oder Methode platzieren, um zu beschreiben, was sie tut. Sie werden von Python nicht ausgeführt.</p>
<p>Die admin-URL, die du im vorangegangenen Kapitel bereits besucht hast, ist schon da:</p>
<pre><code class="fenced-code-block language-python">    path<span class="token punctuation">(</span><span class="token string">'admin/'</span><span class="token punctuation">,</span> admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>urls<span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre>
<p>Diese Zeile bedeutet, dass Django für jede URL, die mit <code>admin/</code> beginnt, die entsprechende <em>View</em> finden wird. Hier wird mit admin-site.urls eine ganze Sammlung von admin-URLs referenziert. Dadurch müssen nicht alle in dieser kleinen Datei aufgeführt werden und sie bleibt lesbarer und übersichtlicher.</p>
<h2 class="atx" id="deine-erste-django-url">Deine erste Django-URL!</h2>
<p>Es wird Zeit, unsere erste URL zu erstellen! Wir wollen, dass '<a href="http://127.0.0.1:8000/'">http://127.0.0.1:8000/'</a> die Homepage unseres Blogs wird und eine Liste unserer Tours zeigt.</p>
<p>Wir wollen auch, dass die <code>mysite/urls.py</code>-Datei sauber bleibt. Deshalb importieren wir die URLs unserer <code>tourenbuch</code>-Applikation in die <code>mysite/urls.py</code>-Hauptdatei.</p>
<p>Also los: Füge eine Zeile hinzu, die <code>tourenbuch.urls</code> importiert. Ausserdem wirst du die Zeile <code>from django.urls…</code> ändern müssen, da wir hier die Funktion <code>include</code> verwenden, die du in dieser Zeile noch importieren musst.</p>
<p>Deine <code>mysite/urls.py</code>-Datei sollte jetzt so aussehen:</p>
<pre><code class="fenced-code-block language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path<span class="token punctuation">,</span> include

urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">'admin/'</span><span class="token punctuation">,</span> admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>urls<span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> include<span class="token punctuation">(</span><span class="token string">'tourenbuch.urls'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre>
<p>Django wird nun alle Aufrufe von '<a href="http://127.0.0.1:8000/'">http://127.0.0.1:8000/'</a> auf <code>tourenbuch.urls</code> umleiten und dort nach weiteren Anweisungen schauen.</p>
<h2 class="atx" id="tourenbuchurls">tourenbuch.urls</h2>
<p>Erstelle eine neue leere Datei namens <code>urls.py</code> im Verzeichnis <code>tourenbuch</code> und öffne sie im Code-Editor. Alles klar! Füge folgende zwei Zeilen ein:</p>
<pre><code class="fenced-code-block language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path
<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> views
</code></pre>
<p>Hier importieren wir die Django-Funktion <code>path</code> und alle unsere <code>views</code> aus unserer <code>tourenbuch</code>-Applikation. (Wir haben noch keine, aber dazu kommen wir gleich!)</p>
<p>Jetzt können wir unser erstes URL-Muster hinzufügen:</p>
<pre><code class="fenced-code-block language-python">urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>tbuch<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'buch'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre>
<p>Wie du siehst, fügen wir nun eine <code>view</code> mit dem Namen <code>tbuch</code> zur Root-URL hinzu. Leere Zeichenfolgen passen auf dieses Muster und der Django-URL-Resolver ignoriert den Domain-Namen (z.B. <a href="http://127.0.0.1:8000/">http://127.0.0.1:8000/</a>), der im vollständigen Pfad voransteht. Dieses Muster sagt Django also, dass <code>views.tbuch</code> das gewünschte Ziel ist, wenn jemand deine Website über '<a href="http://127.0.0.1:8000/'">http://127.0.0.1:8000/'</a> aufruft.</p>
<p>Der letzte Teil <code>name='buch'</code> ist der Name der URL, der genutzt wird, um die View zu identifizieren. Er kann identisch mit dem Namen der View sein, aber es kann auch ein komplett anderer sein. Wir werden später die Namen der URLs im Projekt benutzen. Daher ist es wichtig, jede URL in der App zu benennen. Wir sollten außerdem versuchen, eindeutige und einfach zu merkende URL-Namen zu wählen.</p>
<h1 class="atx" id="5-views">5. Views</h1>
<p>In der <em>View</em> schreiben wir die Logik unserer Anwendung. So werden Informationen aus dem <em>Model</em> abgefragt werden, welches du zuvor erzeugt hast und diese werden an ein <em>Template</em> weitergeben. Ein Template erzeugen wir im nächsten Kapitel. Views sind Python-Funktionen in der <code>views.py</code> Datei. Wir fügen nun also unsere <em>Views</em> zur Datei <code>tourenbuch/views.py</code> hinzu.</p>
<h2 class="atx" id="tourenbuchviewspy">tourenbuch/views.py</h2>
<p>OK, wir öffnen jetzt diese Datei in unserem Code-Editor und schauen, was darin steht:</p>
<pre><code class="fenced-code-block language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render

<span class="token comment"># Create your views here.</span>
</code></pre>
<p>OK, hier steht noch nicht so viel.</p>
<p>Denk daran, Zeilen mit einem <code>#</code> am Anfang sind Kommentare – das bedeutet, dass diese Zeilen von Python nicht ausgeführt werden.</p>
<p>Lass uns eine <em>View</em> erstellen, wie der Kommentar das vorschlägt. Füge die folgende Mini-View unter dem Kommentar ein:</p>
<pre><code class="fenced-code-block language-python"><span class="token keyword">def</span> <span class="token function">tbuch</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'tourenbuch/home.html'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>Wie du siehst, definieren wir eine Funktion (<code>def</code>) mit dem Namen <code>tbuch</code>, die den Parameter <code>request</code> entgegen nimmt und die mit <code>return</code> den Rückgabewert einer anderen Funktion namens <code>render</code> zurück gibt. Letztere wird unser Template <code>tourenbuch/home.html</code> "rendern" (zu einer fertigen HTML-Seite zusammensetzen).</p>
<p>Die Webseite funktioniert noch nicht da wir das Template, die Vorlage <code>home.html</code> noch nicht erstellt haben.</p>
<h2 class="atx" id="dein-erstes-template">Dein erstes Template!</h2>
<p>Ein Template zu erstellen, heißt, eine entsprechende Datei dafür zu erstellen. Alles ist eine Datei, wie du vielleicht schon bemerkt hast.</p>
<p>Templates werden im Verzeichnis <code>tourenbuch/templates/tourenbuch</code> gespeichert. Als Erstes erzeugen wir das Verzeichnis <code>templates</code> in deinem Blog-Verzeichnis. Im Template-Verzeichnis selbst erstellen wir ein weiteres Verzeichnis <code>tourenbuch</code>:</p>
<pre><code class="indented-code-block">tourenbuch
└───templates
    └───tourenbuch
</code></pre>
<p>(Falls du dich wunderst, warum wir zwei <code>tourenbuch</code>-Verzeichnisse brauchen – das hängt mit den nützlichen Namenskonventionen von Django zusammen, die das Leben einfacher machen, wenn deine Projekte immer komplizierter und komplexer werden und Django orientiert sich an der Ordnerstruktur.)</p>
<p>Als nächstes erstellen wir eine Datei <code>home.html</code> (erst mal ohne Inhalt) innerhalb des Verzeichnisses <code>tourenbuch/templates/tourenbuch</code>.</p>
<p>Öffne die neue Datei im Code-Editor, und Kopiere folgendes in die Datei:</p>
<pre><code class="fenced-code-block language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Mein erste Webseite<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Tourenbuch<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Erster Eintrag<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Irgend ein Text.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>Yaaay! Bis jetzt zeigt unser Template aber immer genau die <strong>gleichen Inhalte</strong> – obwohl wir aber vorhin davon gesprochen haben, dass Templates uns erlauben, <strong>verschiedene</strong> Informationen im <strong>gleichen Format</strong> darzustellen.</p>
<p>Eigentlich wollen wir richtige Tours anzeigen, die in unserer Django-Admin-Oberfläche hinzugefügt wurden – und das wollen wir als Nächstes tun.</p>
<h1 class="atx" id="6-datenbankabfrage">6. Datenbankabfrage</h1>
<p>In diesem Kapitel lernst du, wie sich Django mit der Datenbank verbindet und Daten darin speichert. Lass uns loslegen!</p>
<h2 class="atx" id="was-ist-ein-queryset">Was ist ein QuerySet?</h2>
<p>Zusammengefasst ist ein QuerySet eine Liste von Objekten eines bestimmten Models. QuerySets erlauben es dir, Daten aus der Datenbank zu lesen, zu filtern und zu sortieren.</p>
<p>Am besten wir sehen uns das an einem Beispiel an. Versuchen wir's?</p>
<h2 class="atx" id="django-shell">Django-Shell</h2>
<p>Öffne deine lokale Konsole (nicht in PythonAnywhere) und tippe dieses Kommando ein:</p>
<pre><code class="indented-code-block">(myvenv) ~/djangoProjekt$ python manage.py shell
</code></pre>
<p>Das sollte angezeigt werden:</p>
<pre><code class="fenced-code-block language-python"><span class="token punctuation">(</span>InteractiveConsole<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre>
<p>Nun bist du in der interaktiven Konsole von Django. Die funktioniert wie der Python-Prompt, aber hat noch etwas zusätzliche Django-Magie. :) Du kannst hier auch alle Python-Befehle verwenden.</p>
<h3 class="atx" id="alle-objekte">Alle Objekte</h3>
<p>Zunächst wollen wir alle unsere Blogposts ansehen. Das kannst du mit folgendem Kommando erreichen:</p>
<pre><code class="fenced-code-block language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Tour<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
      File <span class="token string">"&lt;console&gt;"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
NameError<span class="token punctuation">:</span> name <span class="token string">'Tour'</span> <span class="token keyword">is</span> <span class="token keyword">not</span> defined
</code></pre>
<p>Hoppla! Eine Fehlermeldung ist erschienen. Sie sagt uns, dass Python "Tour" nicht kennt. Und sie hat recht: Wir haben vergessen zu importieren!</p>
<pre><code class="fenced-code-block language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> tourenbuch<span class="token punctuation">.</span>models <span class="token keyword">import</span> Tour
</code></pre>
<p>Wir importieren das Model <code>Tour</code> aus <code>tourenbuch.models</code>. Versuchen wir nochmal, alle Tours anzuzeigen:</p>
<pre><code class="fenced-code-block language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Tour<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>QuerySet <span class="token punctuation">[</span><span class="token operator">&lt;</span>Tour<span class="token punctuation">:</span> Hoher Kasten<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>Tour<span class="token punctuation">:</span> Lindauer Hütte<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>
</code></pre>
<p>Das ist eine Liste all der Touren, die wir zuvor lokal erstellt haben! Wir haben diese Touren mit der Django-Admin-Oberfläche erstellt. Aber nun wollen wir weitere Touren mit Python erstellen! Wie geht das also?</p>
<h3 class="atx" id="objekt-erstellen">Objekt erstellen</h3>
<p>So erstellst du ein neues Tour-Objekt in der Datenbank:</p>
<pre><code class="fenced-code-block language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Tour<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span>titel <span class="token operator">=</span> <span class="token string">'Freschen'</span><span class="token punctuation">,</span> text <span class="token operator">=</span> <span class="token string">'ab Schilift Laterns'</span><span class="token punctuation">,</span> distanz <span class="token operator">=</span> <span class="token number">8</span> <span class="token punctuation">,</span> abstieg <span class="token operator">=</span> <span class="token number">1900</span><span class="token punctuation">,</span> aufstieg <span class="token operator">=</span> <span class="token number">1900</span><span class="token punctuation">,</span> dauer <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>Tour<span class="token punctuation">:</span> Freschen<span class="token operator">&gt;</span>
</code></pre>
<p>Super! Wollen wir nachsehen, ob es funktioniert hat?</p>
<pre><code class="fenced-code-block language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Tour<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Da ist sie, ein weitere Tour in der Liste! Du kann jetzt nach Belieben weitere Touren hinzufügen, um ein Gefühl dafür zu bekommen, wie es funktioniert. </p>
<h3 class="atx" id="objekte-filtern">Objekte filtern</h3>
<p>Eine wichtige Eigenschaft von QuerySets ist, dass die Einträge gefiltert werden können. Zum Beispiel wollen wir alle Tours finden, die einen Aufstieg von mehr als 1000 m haben. Dafür nehmen wir <code>filter</code> statt <code>all</code> in <code>Tour.objects.all()</code>. In Klammern schreiben wir die Bedingung(en), die eine Tour erfüllen muss, damit ein er in unser Queryset kommt. So soll jetzt der <code>aufstieg</code> grösser als 1000 m herausgefiltert werden. In Django schreiben wir deshalb: <code>aufstieg__gt</code>. gt für greater than, <code>lt</code> für less than, <code>gte</code> für greater equal than. Weitere Filtereigenschaften sind in der Djangodoku beschrieben unter Django-QuerySet-API reference.</p>
<p> Jetzt sieht unser Code folgendermaßen aus:</p>
<pre><code class="fenced-code-block language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Tour<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span>aufstieg__gt<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>QuerySet <span class="token punctuation">[</span><span class="token operator">&lt;</span>Tour<span class="token punctuation">:</span> Freschen<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>
</code></pre>
<p>Oder vielleicht wollen wir alle Tours haben, die das Wort "zweiter" im <code>titel</code>-Feld haben?</p>
<pre><code class="fenced-code-block language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Tour<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span>titel__contains<span class="token operator">=</span><span class="token string">'hoher'</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>QuerySet <span class="token punctuation">[</span><span class="token operator">&lt;</span>Tour<span class="token punctuation">:</span> Hoher Kasten<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>
</code></pre>
<p><strong>Anmerkung:</strong> Zwischen <code>titel</code> und <code>contains</code> befinden sich zwei Unterstriche (<code>__</code>). Das ORM von Django nutzt diese Regel, um Feldnamen ("titel") und Operationen oder Filter ("contains") voneinander zu trennen. Wenn du nur einen Unterstrich benutzt, bekommst du einen Fehler wie "FieldError: Cannot resolve keyword titel_contains".</p>
<p>Du kannst auch eine Liste aller bereits publizierten Tours erhalten, indem wir nach allen Tours suchen, deren <code>sichtbarSeit</code> in der Vergangenheit liegt. Zuerst timezone importieren, dann filtern:</p>
<pre><code class="fenced-code-block language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> django<span class="token punctuation">.</span>utils <span class="token keyword">import</span> timezone
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Tour<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span>sichtbarSeit__lte<span class="token operator">=</span>timezone<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>QuerySet <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>
</code></pre>
<p>Unglücklicherweise ist einige Touren noch nicht veröffentlicht. Aber das können wir ändern! Als Erstes holen wir eine Instanz des Tours, den wir veröffentlichen wollen:</p>
<pre><code class="fenced-code-block language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> wanderung <span class="token operator">=</span> Tour<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>get<span class="token punctuation">(</span>titel<span class="token operator">=</span><span class="token string">"Freschen"</span><span class="token punctuation">)</span>
</code></pre>
<p>Dann publizieren wir ihn mit unserer <code>veroffentlichen</code>-Methode:</p>
<pre><code class="fenced-code-block language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> wanderung<span class="token punctuation">.</span>veroffentlichen<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Jetzt versuch nochmal, eine Liste von veröffentlichten Tours zu bekommen (drücke dreimal "Pfeil nach oben" und <code>enter</code>):</p>
<h3 class="atx" id="objekte-ordnen">Objekte ordnen</h3>
<p>Mit den QuerySets kannst du eine Liste auch nach bestimmten Kriterien ordnen. Lass uns das mit dem <code>distanz</code> Feld ausprobieren:</p>
<pre><code class="fenced-code-block language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Tour<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>order_by<span class="token punctuation">(</span><span class="token string">'distanz'</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>QuerySet <span class="token punctuation">[</span><span class="token operator">&lt;</span>Tour<span class="token punctuation">:</span> Silum<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>Tour<span class="token punctuation">:</span> Hoher Kasten<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>Tour<span class="token punctuation">:</span> Freschen<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>
</code></pre>
<p>Wir können die Reihenfolge auch umdrehen, indem wir "<code>-</code>" davor schreiben:</p>
<pre><code class="fenced-code-block language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Tour<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>order_by<span class="token punctuation">(</span><span class="token string">'-distanz'</span><span class="token punctuation">)</span>
</code></pre>
<h3 class="atx" id="komplexe-queries-durch-methoden-verkettung">Komplexe Queries durch Methoden-Verkettung</h3>
<p>Wie du gesehen hast, geben einige Methoden auf <code>Tour.objects</code> ein QuerySet zurück. Die selben Methoden können wiederum auch auf einem QuerySet aufgerufen werden und geben dann ein neues QuerySet zurück. Das ermöglicht es, ihre Wirkung zu kombinieren, indem du die Methoden <strong>verkettest</strong>:</p>
<pre><code class="fenced-code-block language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Tour<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span>aufstieg__lte<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span>order_by<span class="token punctuation">(</span><span class="token string">'distanz'</span><span class="token punctuation">)</span>
</code></pre>
<p>Dies ist wirklich mächtig und lässt dich ziemlich komplexe Abfragen schreiben.</p>
<p>Cool! Jetzt bist du bereit für den nächsten Teil! Um die Konsole zu schließen, schreib <code>exit()</code>.</p>
<h1 class="atx" id="7-dynamische-daten-in-templates">7. Dynamische Daten in Templates</h1>
<p>Wir haben nun schon einige Dinge an verschiedenen Orten fertiggestellt: </p>
<p><img alt="" src="pic4.png"></p>
<ol>
<li><p>Projekt angelegt und <code>settings.py</code> konfiguriert</p>
</li>
<li><p>Tour-Modell erzeugt in <code>models.py</code></p>
</li>
<li><p>Django-Administration zum Objekte erzeugen und in die Datenbank migrieren</p>
</li>
<li><p>URL konfiguriert in <code>urls.py</code></p>
</li>
<li><p>Views erstellt in <code>views.py</code> zusammen mit <code>home.html</code></p>
</li>
<li><p>Datenbankabfragen mit QuerySet</p>
</li>
</ol>
<p>Aber wie schaffen wir es nun, dass all unsere Tours wirklich im HTML-Template erscheinen? Denn wir wollen ja erreichen, dass bestimmte Inhalte (die in der Datenbank gespeicherten Models) auf schöne Weise in unserem Template anzeigt werden, richtig?</p>
<p>Genau dafür sind die <em>Views</em> zuständig: die Verbindung zwischen den Models und den Templates. In unserer <code>tbuch</code>-View müssen wir die Models, die wir anzeigen wollen, hernehmen und diese dem Template übergeben. In einer <em>View</em> entscheiden wir, was (welches Model) wir in einem Template anzeigen werden.</p>
<p>Okay, und wie machen wir das jetzt?</p>
<p>Wir öffnen unsere Datei <code>tourenbuch/views.py</code> in unserem Code-Editor. Bisher sieht unsere <code>tbuch</code>-<em>View</em> folgendermaßen aus:</p>
<pre><code class="fenced-code-block language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render

<span class="token keyword">def</span> <span class="token function">tbuch</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'tourenbuch/home.html'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>Erinnerst du dich, als wir davon gesprochen haben, dass wir den Code in verschiedene Dateien einfügen müssen? Jetzt ist es an der Zeit, das Model, dass wir in <code>models.py</code> beschrieben haben, einzufügen. Wir fügen den Befehl <code>from .models import Tour</code> folgendermaßen in die Datei <code>views.py</code></p>
<pre><code class="fenced-code-block language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Tour
</code></pre>
<p>Der Punkt vor <code>models</code> bedeutet <em>aktuelles Verzeichnis</em> oder <em>aktuelle Anwendung</em>. Die Dateien <code>views.py</code> und <code>models.py</code> liegen im selben Verzeichnis. Deswegen können wir <code>.</code> und den Namen der Datei (ohne <code>.py</code>) benutzen. Dann ergänzen wir für den Import den Namen des Models (<code>Tour</code>).</p>
<p>Und nun? Um vom <code>Tour</code>-Model die tatsächlichen Touren zu erhalten, brauchen wir die <code>QuerySet</code> von vorhin.</p>
<p>Wir wollen nun also eine Liste von veröffentlichten Touren ausgeben, sortiert nach dem <code>sichtbarSeit</code>. </p>
<pre><code class="fenced-code-block language-python">Tour<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span>sichtbarSeit__lte<span class="token operator">=</span>timezone<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>order_by<span class="token punctuation">(</span><span class="token string">'sichtbarSeit'</span><span class="token punctuation">)</span>
</code></pre>
<p>Öffnen wir also die Datei <code>tourenbuch/views.py</code> im Code-Editor und setzen wir dieses Stück Code in die Funktion <code>def tbuch(request)</code> ein. Aber vergiss nicht, zuerst <code>from django.utils import timezone</code> hinzufügen:</p>
<pre><code class="fenced-code-block language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render
<span class="token keyword">from</span> django<span class="token punctuation">.</span>utils <span class="token keyword">import</span> timezone
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Tour

<span class="token keyword">def</span> <span class="token function">tbuch</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    wanderungen <span class="token operator">=</span> Tour<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span>sichtbarSeit__lte<span class="token operator">=</span>timezone<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>order_by<span class="token punctuation">(</span><span class="token string">'sichtbarSeit'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'tourenbuch/home.html'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'wanderungen'</span><span class="token punctuation">:</span> wanderungen<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>In der <code>render</code>-Funktion haben wir einen Parameter <code>request</code> (also alles, was wir vom User über das Internet bekommen) und einen weiteren Parameter, der den Template-Namen (<code>'tourenbuch/home.html'</code>) angibt. Der letzte Parameter, <code>{}</code>, ist eine Stelle, in der wir weitere Dinge hinzufügen können, die das Template dann benutzen kann. Wir müssen diesen einen Namen geben (wir verwenden einfach wieder <code>'wanderungen'</code>). </p>
<p>Das war's! Zeit, zurück zum <code>home.html</code> zu gehen und das QuerySet anzuzeigen!</p>
<h2 class="atx" id="django-templates">Django-Templates</h2>
<p>Django bringt dafür bereits ein paar sehr hilfreiche <strong>Template-Tags</strong> mit. Was sind Template-Tags?</p>
<p>Also, in HTML kann man nicht wirklich Python-Code schreiben, weil es der Browser nicht verstehen würde. Denn der kennt nur HTML. Wir wissen, dass HTML ziemlich statisch ist, während Python dynamischer ist.</p>
<p>Die <strong>Django-Template-Tags</strong> erlauben uns, Python-artige Dinge ins HTML zu bringen, so dass man einfach und schnell dynamische Websites erstellen kann. Super!</p>
<p>Um eine Variable in einem Django-Template darzustellen, nutzen wir doppelte, geschweifte Klammern mit dem Namen der Variable darin, so wie hier:</p>
<pre><code class="fenced-code-block language-html">{{ wanderungen }}
</code></pre>
<p>Versuche das in deinem <code>tourenbuch/templates/tourenbuch/home.html</code> Template. Öffne es in deinem Code-Editor und ersetze alles vom zweiten <code>&lt;div&gt;</code> bis zum dritten <code>&lt;/div&gt;</code> mit <code>{{ wanderungen }}</code>. Speichere die Datei und aktualisiere die Seite, um die Ergebnisse anzuzeigen.</p>
<p><img alt="" src="step1.png"></p>
<p>Das heißt im Template wird nun eine Liste mit den Ojekt-Titel angezeigt. Die Ojekt-Titel haben wir in <code>model.py</code>mit der Funktion <code>def __str__(self)</code> definiert.</p>
<p>Wir werden nun die Liste mit einer for-Schleife sequentiell darstellen. Diese Funktionalität bauen wir in das Template ein, wieder durch die geschweiften Klammern und dem Prozentzeichen, den sogenannten build-in Django-Tags.</p>
<pre><code class="fenced-code-block language-html">{% for w in wanderungen %}
     {{w.titel}}: {{w.text|linebreaksbr }}; <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
     Aufstieg: {{w.aufstieg }} - Abstieg: {{w.abstieg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
     Distanz: {{w.distanz }} - Dauer: {{w.dauer }}
{% endfor %}
</code></pre>
<p>Versuch das in deinem Template.</p>
<p><img alt="" src="step2.png"></p>
<p>Es funktioniert! Alles, was du zwischen <code>{% for %}</code>und <code>{% endfor %}</code> schreibst, wird für jedes Objekt in der Liste wiederholt. Aktualisiere deine Seite.</p>
<p>Ist dir aufgefallen, dass wir diesmal eine etwas andere Notation benutzen haben (<code>{{ w.titel }}</code> oder <code>{{ w.text }}</code>)? Wir greifen auf Daten von jedem Feld unseres <code>Tour</code>-Models zu. Außerdem leitet das <code>|linebreaksbr</code> den Text der Tours durch einen Filter, um Zeilenumbrüche in Absätze umzuwandeln. Dies ist ebenfalls eine build-in Django-Filter template.</p>
<h1 class="atx" id="8-darstellung">8. Darstellung</h1>
<p>Beeindruckend ist unsere Webpage bisher nicht. Wir wollten aber eine "fully responsiv" Webpage mit modernem Design. Dies bauen wir nicht selbst, sondern nehmen ein fertiges Webtemplate wie z.B. von <a href="https://html5up.net/">html5up</a>. Diese Templates sind bereits lauffähig und haben folgende Struktur:</p>
<pre><code class="fenced-code-block">download
 ├── images
 ├── assets 
 │    ├── css
 │ 
 └── index.html
</code></pre>
<p>Die Webpage ist wieder die html-Datei. Die Bilder zur Webpage sind im Unterordner <code>images</code> abelegt und die Darstellung, Formatierung und Effekte sind in den Dateien im Unterordner <code>assets</code>. Wir werden nicht genauer darauf eingehen, ebenso ist die Suche nach einem passenden "Template" zu beginn reizvoll, jedoch sehr zeitaufwändig, vorallem wenn man kleine Anpassungen wünscht. Wir verwenden das Template "Big Picture" auf html5up. Teste es aus indem du die html-Seite startest.</p>
<p>Die Hintergrundbilder kannst du anpassen, indem du eigene Bilder mit den gleichen Dateinamen in den Ordner <code>images</code>ablegst.</p>
<h3 class="atx" id="template-in-django-integrieren">Template in Django integrieren</h3>
<p>Nun wollen wir dieses Template in Django integrieren. Dateien für die Darstellung wie html, css, png, usw. werden als <strong>statische Dateien</strong> bezeichnet. Ihr Inhalt hängt nicht vom Requestkontext ab, sondern gilt für alle Benutzer gleichermaßen.</p>
<p>Auch hier orientiert sich Django an der Ordnerstruktur. Die beiden Ordner des Template <code>images</code>und <code>asset</code> werden in den Ordner namens <code>static</code> abgelegt:</p>
<pre><code class="fenced-code-block">djangoProjekt 
 ├── tourbuch
 │       ├── migrations
 │       ├── static 
 │       │     ├── images
 │       │     └── assets
 │       └── templates
 └── mysite
</code></pre>
<p>Django findet automatisch alle Ordner mit dem Namen "static" in all unseren App-Ordnern. So ist es in der Lage, ihre Inhalte als statische Dateien zu nutzen.</p>
<h3 class="atx" id="pfade-setzen-in-der-html-datei">Pfade setzen in der html-Datei</h3>
<p>Die Datei <code>index.html</code> kommt in den Ordner <code>templates</code>. In der <code>views.py</code> Datei passen wir den Verweis zur html-Seite an:</p>
<pre><code class="fenced-code-block language-python"><span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'tourenbuch/index.html'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'wanderungen'</span><span class="token punctuation">:</span> wanderungen<span class="token punctuation">}</span><span class="token punctuation">)</span>    
</code></pre>
<p>Wir starten den Entwicklungsserver und es zeigt sich folgende Seite:</p>
<p><img alt="" src="step3.png"></p>
<p>Hier fehlt das Design. Die <code>index.html</code> findet nicht die Bilder und Formaierungsdateien (css), da der Pfad nicht aktuell ist. Dies holen wir nach. Öffne die Datei <code>index.html</code> im Code-Editor und füge diese Zeile ganz oben ein:</p>
<pre><code class="fenced-code-block language-html">{% load static %}
</code></pre>
<p>Wir laden hier den Pfad zu den statischen Dateien. In der Datei oben bei <code>&lt;head&gt;</code> und ganz unten bei <code>&lt;!-- Scripts --&gt;</code> sind Pfade wie folgt angegeben:</p>
<pre><code class="fenced-code-block language-html">href="assets/css/main.css"
src="assets/js/jquery.min.js
</code></pre>
<p>Diese ändern wir zu:</p>
<pre><code class="fenced-code-block language-html">href="{% static "assets/css/main.css" %}"
src="{% "assets/js/jquery.min.js" %}"
</code></pre>
<p>Führe noch weitere Anpassungen durch, wie ändern des Titel, der Überschriften h1 und h2 und Änderungen in den Textstellen. So kannst du den Inhalt der Webpage gestalten.</p>
<h1 class="atx" id="inderaktiv">Inderaktiv</h1>
<p>Nun möchten wir nichtnur Informationen senden, sondern auch Aktionen über die Webpage auslösen, d.h. Daten von der Webpage zum Server senden (=Post). Über ein Eingabefeld geben wir den Titel einer Tour ein und der Server berechnet die Gehzeit aufgrund der Distanz, dem Aufstieg und dem Abstieg und gibt einen Wert zurück, sowie ein Diagramm mit Distanz und Höhe der Tour. Diesen Code bauen wir an zwei Stellen ein. Bei der Darstellung/Template, d.h. in der <code>index.html</code>-Datei und bei der Steuerung/View, dies ist die <code>views.py</code>-Datei.</p>
<p>Zuerst die <code>index.html</code>-Datei: </p>
<pre><code class="fenced-code-block language-html">{% for w in wanderungen %}

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{w.titel}}: {{w.text|linebreaksbr }}; <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>

    Aufstieg: {{w.aufstieg }} - Abstieg: {{w.abstieg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>

    Distanz: {{w.distanz }} - Dauer: {{w.dauer }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

{% endfor %}

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> {% csrf_token %}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Wähle den Titel einer Tour aus: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>w<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span>{{</span> <span class="token attr-name">dic.w</span> <span class="token attr-name">}}</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rechnen<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>knopf<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span> Berechnete Dauer ist {{ out.dauer|floatformat:1 }} Stunden<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>      
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ out.chart|safe }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>      
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>    
</code></pre>
<p><code>form</code>erstellt ein Formular für Eingaben. Dieses Formular verwendet die Methode "post" für das senden der Daten von der Webpage zum Server. </p>
<p><code>{% crsf_token %}</code> ist eine Sicherheitsfunktion von Django (Cross Site Request Forgery protection). Hier stellt Django sicher, dass die Anfrage zum Server von unserer Webpage erfolgt und nicht durch einen Webangriff.</p>
<p><code>&lt;input type="text" name="w" value={{ dic.w }}&gt;</code> HIer wird ein Eingabefeld definiert vom Typ text. Der Variabelname für den eingegebenen Inhalt des Textfeld definieren wir mit "name=w" und der Wert, welcher zu Beginn im Textfeld steht wird mit "value" definiert. HIer greifen wir über Django auf ein Python-Dictionary, welches wir naher in views.py definieren.</p>
<p>Dann geben wir die berechnete Gehzeit "out.dauer" und ein Diagramm "out.chart". Für beide verwenden wir Django-Filter. Der Filter "|floatformat:1" definiert dass nur eine Nachkommastelle anzeigen. Der Filter "|safe" behandelt den Variableninhalt nicht als Text, sondern direkt als HTML-Code. Mit diesem HTML-Code wird das Diagramm gezeichnet. Das Diagramm wird mit Bokeh erstellt, wofür in der index.html-Datei ein Javascript geladen wird. Dies erfolgt im Bereich  durch folgende Zeile:</p>
<pre><code class="fenced-code-block language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{% static <span class="token punctuation">"</span></span><span class="token attr-name">bokeh-1.3.4.min.js"</span> <span class="token attr-name">%}"</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>    
</code></pre>
<p>In der views.py-Datei werden die Informationen erzeugt:</p>
<pre><code class="fenced-code-block language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render
<span class="token keyword">from</span> django<span class="token punctuation">.</span>utils <span class="token keyword">import</span> timezone
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Tour
<span class="token keyword">from</span> bokeh<span class="token punctuation">.</span>plotting <span class="token keyword">import</span> figure
<span class="token keyword">from</span> bokeh<span class="token punctuation">.</span>embed <span class="token keyword">import</span> components

<span class="token keyword">def</span> <span class="token function">tbuch</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>   
    <span class="token keyword">if</span> request<span class="token punctuation">.</span>POST<span class="token punctuation">:</span> <span class="token comment"># wenn button gedrückt</span>
        dic <span class="token operator">=</span> request<span class="token punctuation">.</span>POST <span class="token comment"># Werte von Page übernehmen</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'mal sehen was das ist: '</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>dic<span class="token punctuation">)</span><span class="token punctuation">)</span>
        w <span class="token operator">=</span> dic<span class="token punctuation">[</span><span class="token string">'w'</span><span class="token punctuation">]</span>
        wanderungen <span class="token operator">=</span> Tour<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span>titel__contains<span class="token operator">=</span>w<span class="token punctuation">)</span> <span class="token comment"># QuerySet </span>
        objectW <span class="token operator">=</span> wanderungen<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># Objekt</span>
        dauer<span class="token punctuation">,</span> chart <span class="token operator">=</span> dauerberechnen<span class="token punctuation">(</span>objectW<span class="token punctuation">)</span>
        out <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'dauer'</span> <span class="token punctuation">:</span> dauer<span class="token punctuation">,</span> <span class="token string">'chart'</span><span class="token punctuation">:</span> chart<span class="token punctuation">}</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span> <span class="token comment"># wenn erstmals gestartet wird</span>
        dic <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'w'</span> <span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">}</span>
        out <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'dauer'</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'chart'</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">}</span>
    wanderungen <span class="token operator">=</span> Tour<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span>sichtbarSeit__lte<span class="token operator">=</span>timezone<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>order_by<span class="token punctuation">(</span><span class="token string">'sichtbarSeit'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'tourenbuch/index.html'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'wanderungen'</span><span class="token punctuation">:</span> wanderungen<span class="token punctuation">,</span> <span class="token string">'dic'</span><span class="token punctuation">:</span> dic<span class="token punctuation">,</span> <span class="token string">'out'</span> <span class="token punctuation">:</span> out<span class="token punctuation">}</span><span class="token punctuation">)</span> 

<span class="token keyword">def</span> <span class="token function">dauerberechnen</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">:</span>
    vertikalzeit <span class="token operator">=</span> w<span class="token punctuation">.</span>distanz <span class="token operator">/</span> <span class="token number">4</span> <span class="token comment"># [h]</span>
    hohenzeit <span class="token operator">=</span> w<span class="token punctuation">.</span>aufstieg<span class="token operator">/</span><span class="token number">300</span> <span class="token operator">+</span> w<span class="token punctuation">.</span>abstieg<span class="token operator">/</span><span class="token number">500</span> <span class="token comment"># [h]</span>
    klWert <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>vertikalzeit<span class="token punctuation">,</span> hohenzeit<span class="token punctuation">)</span>
    grWert <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>vertikalzeit<span class="token punctuation">,</span> hohenzeit<span class="token punctuation">)</span>
    dauer <span class="token operator">=</span> klWert<span class="token operator">/</span><span class="token number">2</span> <span class="token operator">+</span> grWert <span class="token comment"># [h]</span>

    p1 <span class="token operator">=</span> figure<span class="token punctuation">(</span>plot_width<span class="token operator">=</span><span class="token number">400</span><span class="token punctuation">,</span> plot_height<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>
    p1<span class="token punctuation">.</span>line<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>w<span class="token punctuation">.</span>distanz<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>w<span class="token punctuation">.</span>aufstieg<span class="token operator">/</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    script<span class="token punctuation">,</span> div <span class="token operator">=</span> components<span class="token punctuation">(</span>p1<span class="token punctuation">)</span>
    chart <span class="token operator">=</span> script <span class="token operator">+</span> div

    <span class="token keyword">return</span> dauer<span class="token punctuation">,</span> chart    
</code></pre>

  </article>
</body>
</html>